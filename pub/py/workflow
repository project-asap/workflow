{"nodes":[{"id":"0","name":"tweets","class":"circle","x":"300","y":"200","fixed":"true","px":"300","py":"200","index":"0","weight":"1"},{"id":"2","name":"filter","x":"400","y":"300","fixed":"true","px":"400","py":"300","index":"1","weight":"2"},{"id":"3","name":"calc&conv","x":"300","y":"300","fixed":"true","px":"300","py":"300","index":"2","weight":"2"},{"id":"4","name":"products","class":"circle","x":"500","y":"200","fixed":"true","px":"500","py":"200","index":"3","weight":"1"},{"id":"5","name":"filterJoin","x":"500","y":"300","fixed":"true","px":"500","py":"300","index":"4","weight":"3"},{"id":"6","name":"avgSent","x":"600","y":"300","fixed":"true","px":"600","py":"300","index":"5","weight":"2"},{"id":"7","name":"sales","class":"circle","x":"500","y":"400","fixed":"true","px":"500","py":"400","index":"6","weight":"1"},{"id":"8","name":"filter","x":"700","y":"400","fixed":"true","px":"700","py":"400","index":"7","weight":"2"},{"id":"9","name":"totalSales","x":"600","y":"400","fixed":"true","px":"600","py":"400","index":"8","weight":"2"},{"id":"10","name":"join1","x":"700","y":"300","fixed":"true","px":"700","py":"300","index":"9","weight":"3"},{"id":"11","name":"campaign","class":"circle","x":"700","y":"200","fixed":"true","px":"700","py":"200","index":"10","weight":"1"},{"id":"12","name":"filter","x":"800","y":"200","fixed":"true","px":"800","py":"200","index":"11","weight":"2"},{"id":"13","name":"join2","x":"800","y":"300","fixed":"true","px":"800","py":"300","index":"12","weight":"3"},{"id":"14","name":"result","class":"circle","x":"800","y":"400","fixed":"true","px":"800","py":"400","index":"13","weight":"1"}],"links":[{"id":"0","sourceId":"0","targetId":"3","class":"dashed","source":{"id":"0","name":"tweets","class":"circle","x":"300","y":"200","fixed":"true","px":"300","py":"200","index":"0","weight":"1"},"target":{"id":"3","name":"calc&conv","x":"300","y":"300","fixed":"true","px":"300","py":"300","index":"2","weight":"2"}},{"id":"2","sourceId":"3","targetId":"2","source":{"id":"3","name":"calc&conv","x":"300","y":"300","fixed":"true","px":"300","py":"300","index":"2","weight":"2"},"target":{"id":"2","name":"filter","x":"400","y":"300","fixed":"true","px":"400","py":"300","index":"1","weight":"2"}},{"id":"3","sourceId":"2","targetId":"5","source":{"id":"2","name":"filter","x":"400","y":"300","fixed":"true","px":"400","py":"300","index":"1","weight":"2"},"target":{"id":"5","name":"filterJoin","x":"500","y":"300","fixed":"true","px":"500","py":"300","index":"4","weight":"3"}},{"id":"4","sourceId":"4","targetId":"5","class":"dashed","source":{"id":"4","name":"products","class":"circle","x":"500","y":"200","fixed":"true","px":"500","py":"200","index":"3","weight":"1"},"target":{"id":"5","name":"filterJoin","x":"500","y":"300","fixed":"true","px":"500","py":"300","index":"4","weight":"3"}},{"id":"5","sourceId":"5","targetId":"6","source":{"id":"5","name":"filterJoin","x":"500","y":"300","fixed":"true","px":"500","py":"300","index":"4","weight":"3"},"target":{"id":"6","name":"avgSent","x":"600","y":"300","fixed":"true","px":"600","py":"300","index":"5","weight":"2"}},{"id":"6","sourceId":"6","targetId":"10","source":{"id":"6","name":"avgSent","x":"600","y":"300","fixed":"true","px":"600","py":"300","index":"5","weight":"2"},"target":{"id":"10","name":"join1","x":"700","y":"300","fixed":"true","px":"700","py":"300","index":"9","weight":"3"}},{"id":"7","sourceId":"7","targetId":"9","class":"dashed","source":{"id":"7","name":"sales","class":"circle","x":"500","y":"400","fixed":"true","px":"500","py":"400","index":"6","weight":"1"},"target":{"id":"9","name":"totalSales","x":"600","y":"400","fixed":"true","px":"600","py":"400","index":"8","weight":"2"}},{"id":"8","sourceId":"9","targetId":"8","source":{"id":"9","name":"totalSales","x":"600","y":"400","fixed":"true","px":"600","py":"400","index":"8","weight":"2"},"target":{"id":"8","name":"filter","x":"700","y":"400","fixed":"true","px":"700","py":"400","index":"7","weight":"2"}},{"id":"9","sourceId":"8","targetId":"10","source":{"id":"8","name":"filter","x":"700","y":"400","fixed":"true","px":"700","py":"400","index":"7","weight":"2"},"target":{"id":"10","name":"join1","x":"700","y":"300","fixed":"true","px":"700","py":"300","index":"9","weight":"3"}},{"id":"10","sourceId":"10","targetId":"13","source":{"id":"10","name":"join1","x":"700","y":"300","fixed":"true","px":"700","py":"300","index":"9","weight":"3"},"target":{"id":"13","name":"join2","x":"800","y":"300","fixed":"true","px":"800","py":"300","index":"12","weight":"3"}},{"id":"11","sourceId":"11","targetId":"12","class":"dashed","source":{"id":"11","name":"campaign","class":"circle","x":"700","y":"200","fixed":"true","px":"700","py":"200","index":"10","weight":"1"},"target":{"id":"12","name":"filter","x":"800","y":"200","fixed":"true","px":"800","py":"200","index":"11","weight":"2"}},{"id":"12","sourceId":"12","targetId":"13","source":{"id":"12","name":"filter","x":"800","y":"200","fixed":"true","px":"800","py":"200","index":"11","weight":"2"},"target":{"id":"13","name":"join2","x":"800","y":"300","fixed":"true","px":"800","py":"300","index":"12","weight":"3"}},{"id":"13","sourceId":"13","targetId":"14","class":"dashed","source":{"id":"13","name":"join2","x":"800","y":"300","fixed":"true","px":"800","py":"300","index":"12","weight":"3"},"target":{"id":"14","name":"result","class":"circle","x":"800","y":"400","fixed":"true","px":"800","py":"400","index":"13","weight":"1"}}],"tasks":[{"id":"0","name":"tweets","class":"circle","nodeId":"0","json":{"tweets&reviews":{"constraints":{"data_info":{"attributes":[{"user":{"type":"Varchar(15)"}},{"text":{"type":"Varchar"}},{"coord":{"type":"(Integer, Integer)"}},{"timestamp":{"type":"Integer"}}]}}}}},{"id":"1","name":"reviews","class":"circle","nodeId":"0","json":{"tweets&reviews":{"constraints":{"data_info":{"attributes":[{"user":{"type":"Varchar(15)"}},{"text":{"type":"Varchar"}},{"coord":{"type":"(Integer, Integer)"}},{"timestamp":{"type":"Integer"}}]}}}}},{"id":"2","name":"filter by reg&date","class":"circle","nodeId":"2","json":{"filter":{"constraints":{"input":{"data_info":{"attributes":["text","coord","timestamp"]}},"output":{"data_info":{"attributes":["text","coord","timestamp"]}},"op_specification":{"algorithm":{"select":{"select_condition":["convert(coord) = reg","convert(timestamp) >= sD"]}}}}}}},{"id":"3","name":"calcSent","class":"circle","nodeId":"3","json":{"calc":{"constraints":{"input":{"data_info":{"attributes":["text","coord","timestamp"]}},"output":{"data_info":{"attributes":["tag","sentiment"]}},"op_specification":{"algorithm":{"calc":[{"calc_attr":"tag","calc_expression":"analyse(text)"},{"calc_attr":"sentiment","calc_expression":"analyse(text)"}]}}}}}},{"id":"15","name":"convDate","class":"circle","nodeId":"3","json":{"calc":{"constraints":{"input":{"data_info":{"attributes":["text","coord","timestamp","tag","sentiment"]}},"output":{"data_info":{"attributes":["tag","sentiment","region","date"]}},"op_specification":{"algorithm":{"calc":[{"calc_attr":"region","calc_expression":"convert(coord)"},{"calc_attr":"date","calc_expression":"convert(timestamp)"}]}}}}}},{"id":"4","name":"products","class":"circle","nodeId":"4","json":{"products":{"constraints":{"data_info":{"attributes":[{"product_id":{"type":"Varchar(15)"}},{"product":{"type":"Varchar(15)"}}]}}}}},{"id":"5","name":"select product","class":"circle","nodeId":"5","json":{"select":{"constraints":{"input1":{"data_info":{"attributes":["tag","sentiment","coord","timestamp"]}},"input2":{"data_info":{"attributes":["product_id","product"]}},"output":{"data_info":{"attributes":["product_id","sentiment","coord","timestamp"]}},"op_specification":{"algorithm":{"select":{"select_condition":["compare(product, tag)"]}}}}}}},{"id":"6","name":"calc avgSent","class":"circle","nodeId":"6","json":{"calc":{"constraints":{"input":{"data_info":{"attributes":["product_id","sentiment","region","date"]}},"output":{"data_info":{"attributes":["product_id","avgSentiment","region","date"]}},"op_specification":{"algorithm":{"calc":[{"calc_attr":"avgSentiment","calc_expression":"avg(sentiment)"}],"groupBy":["date","product_id","region"]}}}}}},{"id":"7","name":"sales","class":"circle","nodeId":"7","json":{"sales":{"constraints":{"data_info":{"attributes":[{"product_id":{"type":"Varchar(15)"}},{"region":{"type":"Varchar(15)"}},{"date":{"type":"Integer"}},{"quantity":{"type":"Integer"}},{"price":{"type":"Integer"}}]}}}}},{"id":"8","name":"filter by prod&reg","class":"circle","nodeId":"8","json":{"filter":{"constraints":{"input":{"data_info":{"attributes":["product_id","date","quantity","price","region"]}},"output":{"data_info":{"attributes":["product_id","date","quantity","price","region"]}},"op_specification":{"algorithm":{"select":{"select_condition":["product_id = pId","region = reg","date = sD"]}}}}}}},{"id":"9","name":"calc totalSales","class":"circle","nodeId":"9","json":{"calc":{"constraints":{"input":{"data_info":{"attributes":["product_id","date","quantity","price","region"]}},"output":{"data_info":{"attributes":["product_id","region","date","totalSales"]}},"op_specification":{"algorithm":{"calc":[{"calc_attr":"totalSales","calc_expression":"quantity*price"}],"groupBy":["date","product_id","region"]}}}}}},{"id":"10","name":"join1 by prod&reg","class":"circle","nodeId":"10","json":{"join1_by_prod&reg":{"constraints":{"input1":{"data_info":{"attributes":["product_id","avgSentiment","region","date"]}},"input2":{"data_info":{"attributes":["product_id","region","date","totalSales"]}},"output":{"data_info":{"attributes":["product_id","avgSentiment","totalSales","region","date"]}},"op_specification":{"algorithm":{"join":{"join_condition":["input1.product_id = input2.product_id","input1.region = input2.region","input1.date = input2.date"]}}}}}}},{"id":"11","name":"campaign","class":"circle","nodeId":"11","json":{"campaign":{"constraints":{"data_info":{"attributes":[{"campaign_id":{"type":"Varchar(15)"}},{"product_id":{"type":"Varchar(15)"}},{"region":{"type":"Varchar(15)"}},{"start_date":{"type":"Integer"}},{"end_date":{"type":"Integer"}}]}}}}},{"id":"12","name":"filter by prod&reg","class":"circle","nodeId":"12","json":{"filter":{"constraints":{"input":{"data_info":{"attributes":["campaign_id","product_id","region","start_date","end_date"]}},"output":{"data_info":{"attributes":["campaign_id","product_id","region","start_date","end_date"]}},"op_specification":{"algorithm":{"select":{"select_condition":["product_id = pId","region = reg","start_date >= sD"]}}}}}}},{"id":"13","name":"join2 by prod&reg","class":"circle","nodeId":"13","json":{"join2_by_prod&reg":{"constraints":{"input1":{"data_info":{"attributes":["product_id","avgSentiment","totalSales","region","date"]}},"input2":{"data_info":{"attributes":["campaign_id","product_id","region","start_date","end_date"]}},"output":{"data_info":{"attributes":["campaign_id","product_id","avgSentiment","totalSales","region"]}},"op_specification":{"algorithm":{"join":{"join_condition":["input1.product_id = input2.product_id","input1.region = input2.region"]}}}}}}},{"id":"14","name":"result","class":"circle","nodeId":"14","json":{"result":{"constraints":{"data_info":{"attributes":[{"campaign_id":{"type":"Varchar(15)"}},{"product_id":{"type":"Varchar(15)"}},{"region":{"type":"Varchar(15)"}},{"avgSentiment":{"type":"Integer"}},{"totalSales":{"type":"Integer"}}]}}}}}]}